---
import Image from "astro/components/Image.astro";
import Time from "../icons/Time.astro";
import { type Song } from "../lib/data";

interface Props {
    songs: Song[];
}

const { songs } = Astro.props;
---

<table
    class="table-auto text-left min-w-full divide-y divide-gray-500/20 hidden md:table"
>
    <thead class="">
        <tr class="text-zinc-400 text-sm">
            <th class="px-4 py-2 font-light">#</th>
            <th class="px-4 py-2 font-light">Title</th>
            <th class="px-4 py-2 font-light">Album</th>
            <th class="px-4 py-2 font-light"><Time /></th>
        </tr>
    </thead>

    <tbody>
        <tr class="h-[16px]"></tr>
        {
            songs.map((song, index) => (
                <tr class="border-spacing-0 text-gray-300 text-sm font-light hover:bg-white/10 overflow-hidden transition duration-300">
                    <td class="px-4 py-2 rounded-tl-lg rounded-bl-lg w-5 ">
                        {index + 1}
                    </td>
                    <td class="px-4 py-2 flex gap-3">
                        <picture class="">
                            <img
                                src={song.image}
                                alt={song.title}
                                class="w-11 h-11 object-cover"
                            />
                        </picture>
                        <div class="flex flex-col">
                            <h3 class="text-white text-base font-normal">
                                {song.title}
                            </h3>
                            <span>{song.artists.join(", ")}</span>
                        </div>
                    </td>
                    <td class="px-4 py-2">{song.album}</td>
                    <td class="px-4 py-2 rounded-tr-lg rounded-br-lg">
                        {song.duration}
                    </td>
                </tr>
            ))
        }
    </tbody>
</table>

<ul class="grid min-w-full mb-4 p-1 text-white md:hidden">
    {
        songs.map((song) => (
            <a class="flex p-2 justify-between items-center hover:bg-zinc-800 cursor-pointer">
                <div class="flex gap-2">
                    <Image
                        src={song.image}
                        alt={song.title}
                        loading={"lazy"}
                        width={"10"}
                        height={"10"}
                        class={"aspect-square w-10 object-cover"}
                    />
                    <div>
                        <h3 class="font-semibold">{song.title}</h3>
                        <p class="text-zinc-400 text-xs">
                            {song.artists.join(", ")}
                        </p>
                    </div>
                </div>
                <div class="fill-zinc-500 w-5 flex items-center">
                    <svg
                        focusable="false"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                    </svg>
                </div>
            </a>
        ))
    }
</ul>
